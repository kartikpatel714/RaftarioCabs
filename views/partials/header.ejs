<!-- views/partials/header.ejs -->
<nav class="navbar navbar-expand-lg navbar-light bg-light shadow fixed-top">
    <div class="container">
        <!-- Brand Logo -->
        <a class="navbar-brand" href="/">
            <img src="/logo/logo.png" alt="RaftarioCabs Logo" style="height: 40px;">
        </a>

        <!-- Navbar Toggler for Mobile -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar Items -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'home' ? 'active' : '' %>"
                        href="#home">Book Cab</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'about' ? 'active' : '' %>"
                        href="#about">Services</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'services' ? 'active' : '' %>"
                        href="#services">Fare</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link <%= typeof currentPage !== 'undefined' && currentPage === 'contact' ? 'active' : '' %>"
                        href="#contact">Help</a>
                </li>
            </ul>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="btn btn-primary" href="#" id="ride-now-btn">Ride now</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
    // Set active menu item
    function setActiveMenu(clickedElement) {
        document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.remove('active');
        });
        clickedElement.classList.add('active');
    }

    // Highlight current section based on scroll position
    window.addEventListener('scroll', function () {
        const sections = ['home', 'about', 'services', 'contact'];
        let currentSection = '';

        sections.forEach(section => {
            const element = document.getElementById(section);
            if (element) {
                const rect = element.getBoundingClientRect();
                if (rect.top <= 100 && rect.bottom >= 100) {
                    currentSection = section;
                }
            }
        });

        document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${currentSection}`) {
                link.classList.add('active');
            }
        });
    });
</script>